<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>리듬앤조이 메뉴</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="home_infopage/popup.css" />

    <style>
      body {
        background-color: #212529;
        color: #fff;
        margin: 0;
        padding: 0;
        overflow-y: auto;
      }

      .nav_line {
        border-top: 1px solid #353b41;
      }

      .nav_image_pop {
        width: 100%;
        height: auto;
        max-height: 300px;
      }

      .copyTxt1 {
        background-color: transparent !important;
        border: none;
        color: #03a9f4;
        font-size: 13px;
      }

      .copyTxt2 {
        background-color: transparent !important;
        border: 1px solid;
        color: #03a9f4;
        font-size: 13px;
        margin-right: 5px;
        padding: 5px 10px;
        cursor: pointer;
      }

      #copyTxt:focus {
        outline: none;
      }

      .menu-container {
        padding: 0;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <!-- 팝업 배경 -->
    <div id="popupOverlay" class="popup-overlay"></div>

    <!-- 팝업 박스 -->
    <div id="popupBox" class="popup">
      <div id="popupContent"></div>
    </div>

    <!-- 내부 팝업용 오버레이 -->
    <div
      id="innerPopupOverlay"
      class="popup-overlay"
      style="z-index: 10002"
    ></div>

    <!-- 내부 팝업 박스 -->
    <div id="innerPopupBox" class="popup" style="z-index: 10003">
      <div id="innerPopupContent"></div>
    </div>

    <div class="menu-container">
      <!-- 홈페이지 아이콘 섹션 -->
      <div id="homepage-section"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="home_infopage/open_popup.js"></script>

    <script>
      // iframe 안에서 실행 중이면 부모 창의 함수 직접 호출 (더 빠름)
      const originalOpenPopup = openPopup;
      const originalClosePopup = closePopup;
      const originalOpenInnerPopup = openInnerPopup;
      const originalCloseInnerPopup = closeInnerPopup;
      
      openPopup = function(url) {
        if (window.parent !== window && window.parent.openPopup) {
          window.parent.openPopup(url);
        } else {
          originalOpenPopup(url);
        }
      };
      
      closePopup = function() {
        if (window.parent !== window && window.parent.closePopup) {
          window.parent.closePopup();
        } else {
          originalClosePopup();
        }
      };
      
      openInnerPopup = function(url) {
        if (window.parent !== window && window.parent.openInnerPopup) {
          window.parent.openInnerPopup(url);
        } else {
          originalOpenInnerPopup(url);
        }
      };
      
      closeInnerPopup = function() {
        if (window.parent !== window && window.parent.closeInnerPopup) {
          window.parent.closeInnerPopup();
        } else {
          originalCloseInnerPopup();
        }
      };
      
      // 홈페이지 섹션 로드
      document.addEventListener("DOMContentLoaded", function () {
        fetch("home_infopage/homepage-section.html")
          .then((response) => response.text())
          .then((html) => {
            document.getElementById("homepage-section").innerHTML = html;
          });
      });

      // 연락처 복사 함수
      function copy() {
        var copyTxt = document.getElementById("copyTxt");
        copyTxt.select();
        copyTxt.setSelectionRange(0, 99999);

        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard
            .writeText(copyTxt.value)
            .then(() => {
              alert("010-4801-7180 복사되었습니다.");
              copyTxt.blur();
            })
            .catch((err) => {
              console.error("복사 실패:", err);
              alert("복사에 실패했습니다.");
            });
        } else {
          try {
            document.execCommand("copy");
            alert("010-4801-7180 복사되었습니다.");
            copyTxt.blur();
          } catch (err) {
            console.error("복사 실패:", err);
            alert("복사에 실패했습니다. 수동으로 복사해주세요.");
          }
        }
      }
    </script>
  </body>
</html>
