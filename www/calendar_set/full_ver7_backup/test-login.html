<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>로그인 테스트</title>
</head>
<body>
  <h1>로그인 테스트</h1>
  <input type="password" id="password" placeholder="비밀번호" value="admin123">
  <button onclick="testLogin()">테스트 로그인</button>
  <div id="result"></div>

  <script src="config-loader.js"></script>
  <script>
    async function testLogin() {
      console.log('테스트 시작');
      
      // 1초 대기 (config-loader.js 로드 완료 대기)
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      const password = document.getElementById('password').value;
      const resultDiv = document.getElementById('result');
      
      resultDiv.innerHTML = `<h3>테스트 결과:</h3>`;
      resultDiv.innerHTML += `<p>입력된 비밀번호: ${password}</p>`;
      resultDiv.innerHTML += `<p>window.ENV: ${JSON.stringify(window.ENV)}</p>`;
      resultDiv.innerHTML += `<p>window.ENV?.ADMIN_PASSWORD: ${window.ENV?.ADMIN_PASSWORD}</p>`;
      
      const localPassword = window.ENV?.ADMIN_PASSWORD;
      
      if (localPassword) {
        if (password === localPassword) {
          resultDiv.innerHTML += `<p style="color: green;">✅ 비밀번호 일치!</p>`;
        } else {
          resultDiv.innerHTML += `<p style="color: red;">❌ 비밀번호 불일치</p>`;
        }
      } else {
        resultDiv.innerHTML += `<p style="color: red;">❌ ADMIN_PASSWORD가 설정되지 않음</p>`;
      }
    }
  </script>
</body>
</html>
